#include<stdio.h>
#include<stdlib.h>
#include<string.h>

#define KSIZE 1024
char kbuf[KSIZE];

int copy_from_kernel(void *user_dest, int maxlen){
    int len = KSIZE < maxlen ? KSIZE : maxlen;
    memcpy(user_dest, kbuf, len);

    return len;
}

int main(){

    kbuf[1] = 34;
    char mydest[5];
    copy_from_kernel(mydest, 2);

    return 0;
}
